<app-admin-nav></app-admin-nav>


<div class="container p-2 mx-auto sm:p-4 dark:text-gray-100">
	<h2 class="mb-4 text-2xl font-semibold text-black">Theaters</h2>
	<div class="overflow-x-auto">
		<table class="w-full p-6 text-xs text-left whitespace-nowrap">
			<thead>
				<tr class="dark:bg-gray-700">
					<th class="p-3">No</th>
					<th class="p-3">Name</th>
					<!-- <th class="p-3">Screen Count</th> -->
					<th class="p-3">Contact</th>
					<th class="p-3">Wallet</th>
					<th class="p-3">Liscence Id</th>
					<th class="p-3">Address</th>
					<th class="p-3">Block
					</th>
				</tr>
			</thead>
			<tbody class="border-b dark:bg-gray-900 dark:border-gray-700">
				<tr *ngFor="let theater of theaters; index as i">
					<td class="px-3 font-medium dark:text-gray-400">{{ i+1 }}</td>
					<td class="px-3 py-2">
						<p>{{ theater.name }}</p>
					</td>
					<!-- <td class="px-3 py-2">
						<p>{{ theater.screenCount }}</p>
					</td> -->
					<td class="px-3 py-2">
						<span>{{ theater.email }}</span>
						<p class="dark:text-gray-400">{{ theater.mobile }}</p>
					</td>
					<td class="px-3 py-2">
						<p>{{ theater.wallet }}</p>
					</td>
					<td class="px-3 py-2">
						<p>{{ theater.liscenceId }}</p>
					</td>
					<td class="px-3 py-2">
                        <div *ngIf="theater.address">
                            <p>{{ theater.address.city }} {{ theater.address.state }}</p>
                            <p class="dark:text-gray-400"> {{ theater.address.country }}</p>
                        </div>
                        <div *ngIf="!theater.address">
                            <p class="dark:text-gray-400">N/A</p>
                        </div>
					</td>
					<td class="px-3 py-2">
						<button type="button" title="Open details" class="px-2 rounded-full dark:text-black  focus:dark:bg-gray-700" 
                        [ngClass]="theater.isBlocked ? 'bg-green-400 focus:dark:bg-green-600' : 'bg-red-500 focus:dark:bg-red-600'"
                        (click)="onBlock(theater._id, theater.isBlocked ?  'Unblock' : 'Block')"
                        >
							{{ theater.isBlocked ?  'Unblock' : 'Block' }}
						</button>
					</td>
				</tr>
			</tbody>
		</table>
	</div>
</div>
